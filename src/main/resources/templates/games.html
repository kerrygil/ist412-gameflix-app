<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Game Collection</title>
    <style>
        table { border-collapse: collapse; width: 80%; margin: auto; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        h1 { text-align: center; }
        .topbar { text-align: right; width: 80%; margin: 1rem auto; }
    </style>
</head>
<body>
<div class="topbar">
    <form th:action="@{/logout}" method="post" style="display:inline;">
        <!-- include CSRF only if you have CSRF enabled -->
        <input type="hidden" th:name="${_csrf?.parameterName}" th:value="${_csrf?.token}">
        <button type="submit" class="btn btn-secondary">Logout</button>
    </form>
</div>

<h1>Game Collection</h1>

<form th:action="@{/library/add}" method="post">
    <input type="hidden" th:name="${_csrf?.parameterName}" th:value="${_csrf?.token}">
    <table>
        <thead>
        <tr>
            <th>Select</th>
            <th>Title</th>
            <th>Genre</th>
            <th>Description</th>
            <th>Price</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="game : ${games}">
            <td><input type="checkbox" name="gameIds" th:value="${game.id}"></td>
            <td th:text="${game.title}"></td>
            <td th:text="${game.genre}"></td>
            <td th:text="${game.description}"></td>
            <td th:text="${game.price}"></td>
        </tr>
        </tbody>
    </table>
    <div style="text-align:center; margin-top: 1rem;">
        <button type="submit" class="btn btn-success">Add Selected to My Library</button>
    </div>
</form>
</body>
</html>
